name = "diagnosethat-api-gateway"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Custom domain routing (top-level)
routes = [
  { pattern = "api.diagnosethat.net", custom_domain = true }
]

[vars]
SUPABASE_URL = "https://uyyxgihmyuajdxivjifj.supabase.co"

# Queue producer binding for inference jobs
[[queues.producers]]
queue = "inference-jobs"
binding = "INFERENCE_QUEUE"

# Secrets (set via `wrangler secret put <NAME>`):
# - SUPABASE_SERVICE_ROLE_KEY
